// =====================================================================
// Ravage Mod - description.ext Patch
// =====================================================================
// Add this to your mission's description.ext file to enable Ravage mod
// support. These changes whitelist the functions Ravage needs to work.
// =====================================================================

// INSTRUCTIONS:
// 1. Open your Exile.Altis/description.ext file
// 2. Find the "class CfgRemoteExec" section
// 3. Add the code blocks below to the appropriate sections

// =====================================================================
// SECTION 1: Functions Class (inside CfgRemoteExec)
// =====================================================================
// Add these inside: class CfgRemoteExec { class Functions { ... HERE ... }; };

        // Ravage Mod Support
        class setIdentity               { allowedTargets = 0; jip = 0; };
        class say3d                     { allowedTargets = 0; jip = 0; };

// =====================================================================
// SECTION 2: Commands Class (inside CfgRemoteExec)
// =====================================================================
// Add these inside: class CfgRemoteExec { class Commands { ... HERE ... }; };

		// Ravage Mod Support
		class setIdentity               { allowedTargets = 0; };
		class say3D                     { allowedTargets = 0; };

// =====================================================================
// SECTION 3: Commands Mode (inside CfgRemoteExec)
// =====================================================================
// Make sure Commands mode is set to whitelist (1):

    class Commands
    {
		mode = 1;  // IMPORTANT: Change from 0 to 1 to enable whitelist
		jip = 0;

		// Ravage Mod Support
		class setIdentity               { allowedTargets = 0; };
		class say3D                     { allowedTargets = 0; };
    };

// =====================================================================
// COMPLETE EXAMPLE - Full CfgRemoteExec with Ravage Support
// =====================================================================

class CfgRemoteExec
{
    class Functions
    {
        mode = 1;
        jip = 0;

        class ExileServer_system_network_dispatchIncomingMessage
        {
            allowedTargets = 2;
        };

        // Ravage Mod Support
        class setIdentity               { allowedTargets = 0; jip = 0; };
        class say3d                     { allowedTargets = 0; jip = 0; };

        // Add any other custom functions here...
    };

    class Commands
    {
		mode = 1;  // Whitelist mode
		jip = 0;

		// Ravage Mod Support
		class setIdentity               { allowedTargets = 0; };
		class say3D                     { allowedTargets = 0; };
    };
};

// =====================================================================
// SECURITY NOTES
// =====================================================================
// - setIdentity: Allows Ravage to customize zombie appearances (SAFE)
// - say3d/say3D: Allows Ravage to play zombie sounds (SAFE)
// - allowedTargets = 0: Allows execution from any machine
//
// These functions only control zombie cosmetics and sounds,
// not gameplay-critical or security-sensitive operations.
// =====================================================================

// =====================================================================
// TROUBLESHOOTING
// =====================================================================
// If you see these errors in your server logs:
//   "User tried to remoteExec a disabled function: 'setidentity'"
//   "User tried to remoteExec a disabled function: 'say3d'"
//
// Then this patch was not applied correctly. Double-check that:
// 1. Functions are inside CfgRemoteExec { class Functions { ... }; }
// 2. Commands are inside CfgRemoteExec { class Commands { ... }; }
// 3. Commands mode is set to 1 (not 0)
// 4. Server was restarted after making changes
// =====================================================================
